// autogen script
(()=>{var a="1.4.0",c="377",d=!1;var s=`NeilaTools-${a}-${d==!0?`dev${c}`:"prod"}`,r=e=>console.log("%cServiceWorker","background: #52c41a;border-radius: 0.5em;color: white;font-weight: bold;padding: 2px 0.5em",e),u=()=>caches.open(s).then(e=>e.addAll(g).catch(console.error)),m=async()=>{let e=await caches.keys();return await Promise.all(e.filter(t=>t!==s).map(t=>(r(`\u5DF2\u5220\u9664\u7F13\u5B58\u201C${t}\u201D`),caches.delete(t))))},g=["/","/tool","/settings","/index.webmanifest","/image/favicon.png"];r(`\u7248\u672C\u4E3A${s}`);self.addEventListener("install",e=>{e.waitUntil(u().then(()=>self.skipWaiting()))});self.addEventListener("activate",e=>e.waitUntil(m().then(()=>self.clients.claim())));self.addEventListener("fetch",e=>{if(e.request.method!=="GET")return;let{requrl:t}=e.request,p=String(t);e.respondWith(caches.open(s).then(async l=>{let o=await l.match(e.request);if(o)return o;try{let i=await fetch(e.request);return r(`\u6293\u53D6: ${p}`),i.ok&&l.put(e.request,i.clone()),i}catch(i){return console.error(i)}}))});var v=s;})();
